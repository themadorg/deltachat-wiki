---
title: دیتابیس تنظیمات
description: نمای کلی فنی جداول پیکربندی پویا و ذخیره‌سازی متادیتای Madmail.
category: فنی
---

# دیتابیس تنظیمات Madmail

Madmail از جداول SQL اختصاصی برای ذخیره پیکربندی‌های پویا و متادیتای کاربران استفاده می‌کند. این کار به سرور اجازه می‌دهد تا رفتار خود را (مثلاً باز کردن ثبت‌نام، غیرفعال کردن لاگ‌ها) بدون نیاز به راه‌اندازی مجدد یا اصلاح فایل پیکربندی تغییر دهد.

## جدول تنظیمات (`settings`)

جدول `settings` یک مخزن ساده کلید-مقدار (key-value) است که برای پرچم‌های سطح سرور استفاده می‌شود. در `maddy.conf` این جدول معمولاً از طریق دستورالعمل `settings_table` در هر دو بخش `auth.pass_table` و `storage.imapsql` پیکربندی می‌شود.

| کلید | نوع مقدار | توضیحات |
| :--- | :--- | :--- |
| `__REGISTRATION_OPEN__` | Boolean (`true`/`false`) | کنترل می‌کند که آیا حساب‌های جدید در طول تحویل SMTP یا از طریق نقطه انتهایی ثبت‌نام chatmail به‌طور خودکار ایجاد شوند یا خیر. |
| `__TURN_ENABLED__` | Boolean (`true`/`false`) | فعال بودن قابلیت سرور TURN برای کاربران را کنترل می‌کند. |
| `__LOG_DISABLED__` | Boolean (`true`/`false`) | زمانی که روی `true` تنظیم شود، سرور به‌طور پویا ثبت لاگ در خروجی استاندارد/فایل‌ها را غیرفعال می‌کند (از `log.NopOutput` استفاده می‌کند). |

## جدول سهمیه (`quota`)

جدول `quota` محدودیت‌های فضای ذخیره‌سازی برای کاربران و مقادیر پیش‌فرض جهانی را مدیریت می‌کند.

| نام کاربری | توضیحات |
| :--- | :--- |
| `__GLOBAL_DEFAULT__` | یک ورودی خاص که سهمیه پیش‌فرض را برای تمام کاربران سرور در صورتی که سهمیه خاصی برای آن‌ها تعریف نشده باشد، تنظیم می‌کند. |
| *[username]* | حد نهایی فضای ذخیره‌سازی (`MaxStorage`) را به بایت برای یک کاربر خاص ذخیره می‌کند. |

## جداول دیگر

- **`contacts`**: لینک‌های اشتراک‌گذاری مخاطبان دلتاچت (slug، URL، نام) را ذخیره می‌کند.
- **`passwords`**: اطلاعات شناسایی کاربران و هش رمزهای عبور را ذخیره می‌کند.
- **`msgs` / `mboxes` / `users`**: جداول اصلی IMAP که توسط موتور ذخیره‌سازی مدیریت می‌شوند.
