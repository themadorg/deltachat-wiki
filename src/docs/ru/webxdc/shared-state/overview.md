---
title: Общее состояние веб-приложения
description: Обзор управления состоянием приложения в децентрализованной среде.
category: webxdc
---

# Общее состояние веб-приложения

В типичном многопользовательском веб-приложении клиенты загружают исходный код приложения с центрального HTTP-сервера и полагаются на него для ретрансляции сообщений другим пользователям. В этой [клиент-серверной модели](https://ru.wikipedia.org/wiki/Клиент-сервер) сервер может использовать свое центральное положение в качестве авторитета, чтобы гарантировать, что все подключенные клиенты получают сообщения в одном и том же порядке.

Хотя приложения webxdc можно использовать в ситуациях, когда все участники чата обслуживаются одним сервером, спецификация не предполагает, что так будет всегда. Напротив, она призвана поддерживать как федеративные (многосерверные), так и полностью [одноранговые (P2P)](https://ru.wikipedia.org/wiki/Одноранговая_сеть) режимы работы. Кроме того, мессенджеры с поддержкой webxdc реализуют обмен сообщениями по принципу «сначала офлайн» (offline-first), что вносит произвольные задержки в доставку сообщений.

Таким образом, разные клиенты могут получать обновления в совершенно разном порядке и, следовательно, применять эти обновления в последовательностях, приводящих к конфликтам.

Существует множество стратегий и технологий для предотвращения или разрешения таких конфликтов. Спецификация webxdc намеренно не ограничивает их использование, позволяя авторам приложений выбирать подход, наиболее подходящий для их нужд.

В этой главе мы:

*   опишем распространенные способы десинхронизации состояния в одноранговом контексте;
*   познакомим вас с **CRDT** (Conflict-free Replicated Data Types — бесконфликтные реплицируемые типы данных) и проиллюстрируем, в каких обстоятельствах их использование выгодно;
*   продемонстрируем на практических примерах, как адаптировать приложение для использования CRDT для согласованной синхронизации общего состояния между несколькими пользователями или устройствами.
